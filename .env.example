# Lotus node RPC configuration
NODE_RPC_USER="lotus"
NODE_RPC_PASS="lotus"
NODE_RPC_HOST="127.0.0.1"
NODE_RPC_PORT="10604"
# NNG sub socket handles lotusd events, e.g. mempooltxadd, blkconnected, etc.
NNG_SUB_SOCKET_PATH="/home/user/.lotus/pub.pipe"
# NNG req socket sends RPC requests to lotusd
NNG_REQ_SOCKET_PATH="/home/user/.lotus/rpc.pipe"
# Minimum satoshi/byte value required for accepting RNKC transactions
RNKC_MIN_FEE_RATE="10000000" # satoshis
# Minimum total data length of RNKC comment data
RNKC_MIN_DATA_LENGTH="1" # bytes
# Lotus Library Environment Configuration
# Copy this file to .env and configure with your values
# NEVER commit .env files to git!

# ============================================================================
# P2P Network Configuration
# ============================================================================

# P2P Peer Identity (Ed25519 Keypair)
# Generate these values using: npx tsx scripts/generate-p2p-keypair.ts --env
#
# These values provide a persistent identity for your P2P node across restarts.
# Without these, a new random identity will be generated each time.

# The public peer ID (safe to share)
# This is the identifier other peers will use to connect to you
# Example: 12D3KooWRnWLNiT8E1qRjKBHNQFWqDvUaDkAE7VybZ4Q1R6p7JZK
P2P_PEER_ID=

# Private key in Protocol Buffers format (base64 encoded)
# Used with privateKeyFromProtobuf() - recommended format
# KEEP THIS SECRET! Never share or commit to git!
P2P_PRIVATE_KEY_BASE64=

# Private key in raw format (base64 encoded)
# Used with privateKeyFromRaw() - alternative format
# KEEP THIS SECRET! Never share or commit to git!
P2P_PRIVATE_KEY_RAW_BASE64=

# ============================================================================
# P2P Bootstrap Nodes
# ============================================================================

# Comma-separated list of bootstrap peer multiaddrs
# Format: /ip4/IP/tcp/PORT/p2p/PEER_ID
# Example: /ip4/147.135.88.232/tcp/6969/p2p/12D3KooWMHp6oNPM2ZQkCMESKyf8CDLaQ5LQVpNavKxqDKGCPETM
P2P_BOOTSTRAP_PEERS=

# ============================================================================
# P2P Node Configuration
# ============================================================================

# Listen address for P2P connections
# Default: /ip4/0.0.0.0/tcp/0 (random port)
P2P_LISTEN_ADDR=/ip4/0.0.0.0/tcp/0

# Announce address (optional - for NAT/firewall traversal)
# If behind NAT, specify your public IP:PORT here
# Example: /ip4/203.0.113.1/tcp/6969
P2P_ANNOUNCE_ADDR=

# Enable DHT server mode (true/false)
# true: Full DHT server (for bootstrap/relay nodes)
# false: DHT client only (for regular wallets)
# Default: false
P2P_DHT_SERVER=false

# Enable relay server mode (true/false)
# true: Allow others to relay through you (bootstrap nodes)
# false: Don't act as relay (regular wallets)
# Default: false
P2P_RELAY_SERVER=false

# ============================================================================
# Blockchain Configuration (Chronik API)
# ============================================================================

# Chronik API URL for blockchain verification
# Used by burn-based identity system and blockchain queries
# Default: https://chronik.lotusia.org
CHRONIK_URL=https://chronik.lotusia.org

# ============================================================================
# Security Configuration
# ============================================================================

# Disable rate limiting (TESTING ONLY - never use in production!)
# Default: false
P2P_DISABLE_RATE_LIMITING=false

# ============================================================================
# Usage Examples
# ============================================================================

# Generate a new keypair:
#   npx tsx scripts/generate-p2p-keypair.ts --env >> .env
#
# Or save to a file:
#   npx tsx scripts/generate-p2p-keypair.ts --save ./keys/my-node.key
#
# Load in TypeScript:
#   import { privateKeyFromProtobuf } from '@libp2p/crypto/keys'
#   import { peerIdFromPrivateKey } from '@libp2p/peer-id'
#   
#   const keyBytes = Buffer.from(process.env.P2P_PRIVATE_KEY_BASE64!, 'base64')
#   const privateKey = privateKeyFromProtobuf(keyBytes)
#   const peerId = peerIdFromPrivateKey(privateKey)
#   
#   const coordinator = new MuSig2P2PCoordinator({
#     peerId: peerId,
#     bootstrapPeers: process.env.P2P_BOOTSTRAP_PEERS?.split(','),
#     listen: [process.env.P2P_LISTEN_ADDR || '/ip4/0.0.0.0/tcp/0'],
#     enableDHTServer: process.env.P2P_DHT_SERVER === 'true',
#     enableRelayServer: process.env.P2P_RELAY_SERVER === 'true',
#   })